# PDF Analyzer - –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ QR-–∫–æ–¥–æ–≤

## –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

‚úÖ **–§—É–Ω–∫—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–µ—Ä—Ö–Ω–µ–≥–æ –∫—Ä–∞—è —à—Ç–∞–º–ø–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –Ω–∞–¥–ø–∏—Å–∏** –Ω–∞ landscape —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö  
‚úÖ **–§—É–Ω–∫—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫—Ä–∞—è —Ä–∞–º–∫–∏** –Ω–∞ –ø—Ä–∞–≤–æ–π —Å—Ç–æ—Ä–æ–Ω–µ –ª–∏—Å—Ç–∞  
‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ PDFService** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è  
‚úÖ **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ QR-–∫–æ–¥–æ–≤** –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤  
‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** —Å fallback –Ω–∞ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏  
‚úÖ **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π  

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd backend
pip install -r requirements.txt
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏

```bash
python test_simple_analyzer.py
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

```python
from app.utils.pdf_analyzer import PDFAnalyzer

analyzer = PDFAnalyzer()
layout_info = analyzer.analyze_page_layout("document.pdf", 0)

# –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç:
# - is_landscape: bool
# - stamp_top_edge: float | None
# - right_frame_edge: float | None
```

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –î–ª—è Landscape —Å—Ç—Ä–∞–Ω–∏—Ü:

1. **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∏–∂–Ω—è—è –æ–±–ª–∞—Å—Ç—å** —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ —à—Ç–∞–º–ø–∞
2. **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∞–≤–∞—è –æ–±–ª–∞—Å—Ç—å** –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ä–∞–º–∫–∏
3. **QR-–∫–æ–¥ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç—Å—è**:
   - **–ü–æ Y (–ü–†–ò–û–†–ò–¢–ï–¢)**: –Ω–∞–¥ —à—Ç–∞–º–ø–æ–º (–µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω) –∏–ª–∏ 4 —Å–º –æ—Ç –Ω–∏–∂–Ω–µ–π —Ä–∞–º–∫–∏ (–µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ —Ä–∞–º–∫–∏ –Ω–∞–π–¥–µ–Ω—ã) –∏–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
   - **–ü–æ X (–í–¢–û–†–û–°–¢–ï–ü–ï–ù–ù–û)**: 4 —Å–º –ª–µ–≤–µ–µ –ø—Ä–∞–≤–æ–π —Ä–∞–º–∫–∏ (–µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ —Ä–∞–º–∫–∏ –Ω–∞–π–¥–µ–Ω—ã) –∏–ª–∏ 1 —Å–º –ª–µ–≤–µ–µ —Ä–∞–º–∫–∏ –∏–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### –ê–ª–≥–æ—Ä–∏—Ç–º –¥–µ—Ç–µ–∫—Ü–∏–∏:

- **–®—Ç–∞–º–ø**: –ü–æ–∏—Å–∫ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π –≤ –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- **–†–∞–º–∫–∞**: –ü–æ–∏—Å–∫ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã—Ö –ª–∏–Ω–∏–π –≤ –ø—Ä–∞–≤–æ–π —á–∞—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –ü–æ —Ä–∞–∑–º–µ—Ä—É, —Ñ–æ—Ä–º–µ –∏ –ø–æ–ª–æ–∂–µ–Ω–∏—é —ç–ª–µ–º–µ–Ω—Ç–æ–≤

## –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

| –°–ª—É—á–∞–π | Y –ø–æ–∑–∏—Ü–∏—è (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç) | X –ø–æ–∑–∏—Ü–∏—è (–≤—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ) | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------------------|---------------------------|----------|
| –®—Ç–∞–º–ø + —Ä–∞–º–∫–∞ | 4.0 —Å–º –æ—Ç –Ω–∏–∑–∞ (–Ω–∞–¥ —à—Ç–∞–º–ø–æ–º) | 22.0 —Å–º –æ—Ç –ª–µ–≤–æ–≥–æ –∫—Ä–∞—è (–ª–µ–≤–µ–µ —Ä–∞–º–∫–∏) | –ò–¥–µ–∞–ª—å–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ |
| –¢–æ–ª—å–∫–æ —à—Ç–∞–º–ø | 4.7 —Å–º –æ—Ç –Ω–∏–∑–∞ (–Ω–∞–¥ —à—Ç–∞–º–ø–æ–º) | 4.0 —Å–º –æ—Ç –ª–µ–≤–æ–≥–æ –∫—Ä–∞—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) | Y –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —à—Ç–∞–º–ø–∞, X –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
| –¢–æ–ª—å–∫–æ —Ä–∞–º–∫–∞ | 5.8 —Å–º –æ—Ç –Ω–∏–∑–∞ (4 —Å–º –æ—Ç –Ω–∏–∂–Ω–µ–π —Ä–∞–º–∫–∏) | 19.0 —Å–º –æ—Ç –ª–µ–≤–æ–≥–æ –∫—Ä–∞—è (4 —Å–º –ª–µ–≤–µ–µ –ø—Ä–∞–≤–æ–π —Ä–∞–º–∫–∏) | –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ "—Ç–æ–ª—å–∫–æ —Ä–∞–º–∫–∞" |
| –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ | 9.0 —Å–º –æ—Ç –Ω–∏–∑–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) | 4.0 —Å–º –æ—Ç –ª–µ–≤–æ–≥–æ –∫—Ä–∞—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) | –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ |

## –§–∞–π–ª—ã

- `backend/app/utils/pdf_analyzer.py` - –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞
- `backend/app/services/pdf_service.py` - –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π
- `test_simple_analyzer.py` - –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç –ª–æ–≥–∏–∫–∏
- `test_pdf_analyzer.py` - –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ PDF
- `docs/PDF_ANALYZER_GUIDE.md` - –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- PyMuPDF, OpenCV, scikit-image, scipy, numpy
- PDF –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º

## –°—Ç–∞—Ç—É—Å

üü¢ **–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é** - –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
